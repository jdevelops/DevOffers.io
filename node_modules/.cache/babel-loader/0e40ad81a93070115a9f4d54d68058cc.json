{"ast":null,"code":"import _regeneratorRuntime from\"C:/Frontend22/Projects/inz/DevOffers.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Frontend22/Projects/inz/DevOffers.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Frontend22/Projects/inz/DevOffers.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams,useNavigate}from\"react-router-dom\";// pozwala na użycie Hooka useParam\nimport{useEffect,useState}from\"react\";import supabase from\"../config/supabaseClient\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Offer=function Offer(){var _useParams=useParams(),id=_useParams.id;// na podstawie routingu z app.js przyjmujemy paratmetr id który możemy użyć w obecnym komponencie jako obiekt\nvar navigate=useNavigate();//Funkcja wywołana podczas załądowania componentu ma\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),company_name=_useState4[0],setCompany_Name=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),method=_useState6[0],setMethod=_useState6[1];// potencjalnie zmienić na recepie\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),url=_useState8[0],setUrl=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),salary_low=_useState10[0],setSalaryLow=_useState10[1];var _useState11=useState(10),_useState12=_slicedToArray(_useState11,2),salary_top=_useState12[0],setSalaryTop=_useState12[1];var _useState13=useState(\"Mid\"),_useState14=_slicedToArray(_useState13,2),position_level=_useState14[0],setPosition_Level=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),category_logo=_useState16[0],setCategoryLogo=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),fromError=_useState18[0],setFormError=_useState18[1];var recepie=method;var redirectFoo=function redirectFoo(){window.open(url,\"_blank\");};useEffect(function(){var fetchSmoothie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$supabase$from$,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return supabase.from(\"smoothies\")// pobranie z tabeli\n.select()// zwracanie daty\n.eq(\"id\",id)//linijka odpowiedzialna za filtrowanie zwraca jeżeli kolumna \"id\" jest równa zmiennej id\n.single();case 2:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;error=_yield$supabase$from$.error;if(error){navigate(\"/\",{replace:true});// replace true zamienia ostatnia strone w histori na strone główną\n}if(data){setTitle(data.title);setMethod(data.recepie);setUrl(data.link_url);setCompany_Name(data.company_name);setSalaryLow(data.salary_low);setSalaryTop(data.salary_top);setPosition_Level(data.position_level);setCategoryLogo(data.category_logo);console.log(data);}/* MOZE ZOSTANIE UŻYTE\r\n      function helperFoo(d, e) {\r\n        if (d !== null) {\r\n          console.log(d, e);\r\n          console.log(\"data is not null\");\r\n        } else if (e !== null) {\r\n          console.log(d, e);\r\n          console.log(\"error is not null\");\r\n          navigate(\"/\", { replace: true });\r\n        } else {\r\n          console.log(d, e);\r\n          console.log(\"idk what happend\");\r\n        }\r\n      }\r\n      helperFoo(data, error);\r\n      */case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchSmoothie(){return _ref.apply(this,arguments);};}();fetchSmoothie();// invoke funkcji na koniec parsowaniaHooka\n},[id,navigate]);return/*#__PURE__*/_jsx(\"div\",{className:\"page offer-view\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"offer-view_wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"offer-view_header\",children:/*#__PURE__*/_jsx(\"h2\",{children:title})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Firma: \",company_name,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pozycja: \",position_level]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Text: \",method]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Wide\\u0142ki: \",salary_low,\" - \",salary_top,\"z\\u0142\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:redirectFoo,children:\"APLIKUJ\"})]})});};export default Offer;","map":{"version":3,"names":["useParams","useNavigate","useEffect","useState","supabase","Offer","id","navigate","title","setTitle","company_name","setCompany_Name","method","setMethod","url","setUrl","salary_low","setSalaryLow","salary_top","setSalaryTop","position_level","setPosition_Level","category_logo","setCategoryLogo","fromError","setFormError","recepie","redirectFoo","window","open","fetchSmoothie","from","select","eq","single","data","error","replace","link_url","console","log"],"sources":["C:/Frontend22/Projects/inz/DevOffers.io/src/pages/Offer.js"],"sourcesContent":["import { useParams, useNavigate } from \"react-router-dom\"; // pozwala na użycie Hooka useParam\r\nimport { useEffect, useState } from \"react\";\r\nimport supabase from \"../config/supabaseClient\";\r\n\r\nconst Offer = () => {\r\n  const { id } = useParams(); // na podstawie routingu z app.js przyjmujemy paratmetr id który możemy użyć w obecnym komponencie jako obiekt\r\n  const navigate = useNavigate();\r\n  //Funkcja wywołana podczas załądowania componentu ma\r\n  const [title, setTitle] = useState(\"\");\r\n  const [company_name, setCompany_Name] = useState(\"\");\r\n  const [method, setMethod] = useState(\"\"); // potencjalnie zmienić na recepie\r\n  const [url, setUrl] = useState(\"\");\r\n  const [salary_low, setSalaryLow] = useState(0);\r\n  const [salary_top, setSalaryTop] = useState(10);\r\n  const [position_level, setPosition_Level] = useState(\"Mid\");\r\n  const [category_logo, setCategoryLogo] = useState(\"\");\r\n  const [fromError, setFormError] = useState(null);\r\n  let recepie = method;\r\n\r\n  const redirectFoo = () => {\r\n    window.open(url, \"_blank\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchSmoothie = async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"smoothies\") // pobranie z tabeli\r\n        .select() // zwracanie daty\r\n        .eq(\"id\", id) //linijka odpowiedzialna za filtrowanie zwraca jeżeli kolumna \"id\" jest równa zmiennej id\r\n        .single();\r\n\r\n      if (error) {\r\n        navigate(\"/\", { replace: true }); // replace true zamienia ostatnia strone w histori na strone główną\r\n      }\r\n      if (data) {\r\n        setTitle(data.title);\r\n        setMethod(data.recepie);\r\n        setUrl(data.link_url);\r\n        setCompany_Name(data.company_name);\r\n        setSalaryLow(data.salary_low);\r\n        setSalaryTop(data.salary_top);\r\n        setPosition_Level(data.position_level);\r\n        setCategoryLogo(data.category_logo);\r\n        console.log(data);\r\n      }\r\n      /* MOZE ZOSTANIE UŻYTE\r\n      function helperFoo(d, e) {\r\n        if (d !== null) {\r\n          console.log(d, e);\r\n          console.log(\"data is not null\");\r\n        } else if (e !== null) {\r\n          console.log(d, e);\r\n          console.log(\"error is not null\");\r\n          navigate(\"/\", { replace: true });\r\n        } else {\r\n          console.log(d, e);\r\n          console.log(\"idk what happend\");\r\n        }\r\n      }\r\n      helperFoo(data, error);\r\n      */\r\n    };\r\n    fetchSmoothie(); // invoke funkcji na koniec parsowaniaHooka\r\n  }, [id, navigate]);\r\n\r\n  return (\r\n    <div className=\"page offer-view\">\r\n      <div className=\"offer-view_wrapper\">\r\n        <div className=\"offer-view_header\">\r\n          <h2>{title}</h2>\r\n        </div>\r\n\r\n        <p>Firma: {company_name} </p>\r\n        <p>Pozycja: {position_level}</p>\r\n        <p>Text: {method}</p>\r\n\r\n        <div>\r\n          Widełki: {salary_low} - {salary_top}zł\r\n        </div>\r\n        <button onClick={redirectFoo}>APLIKUJ</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Offer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}