{"ast":null,"code":"var _jsxFileName = \"C:\\\\Frontend22\\\\Projects\\\\inz\\\\DevOffers.io\\\\src\\\\pages\\\\Create.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport supabase from \"../config/supabaseClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Create = () => {\n  _s();\n\n  const navigate = useNavigate(); //  Hook reacta pozwalający na przekierowanie użytkownika na inna strone zgodnie z routerem\n\n  const [title, setTitle] = useState(\"\");\n  const [method, setMethod] = useState(\"\"); // potencjalnie zmienić na recepie\n\n  const [rating, setRating] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [position_level, SetPosition_Level] = useState(\"Mid\"); // zmienna przechowująca radio buttons state\n\n  const [createdBy, setCreatedBy] = useState(\"\");\n  const [fromError, setFormError] = useState(null);\n  let recepie = method; // zmienone aby zgadzała się nazwa z tablica\n\n  let created_by = createdBy; // zmienone aby zgadzała się nazwa z tablica, w tabeli jest created_by\n\n  let link_url = url; // zmienone aby zgadzała się nazwa z tablica\n\n  async function checkID() {\n    const {\n      data: {\n        user\n      }\n    } = await supabase.auth.getUser();\n    console.log(user.id);\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault(); // linijka zapobiegająca reloadowi strony\n\n    const {\n      data: {\n        user\n      }\n    } = await supabase.auth.getUser();\n    console.log(user.id); // testowo\n\n    created_by = user.id;\n\n    if (!title || !method || !rating) {\n      /* !title oznacza if title === null or reszta */\n      setFormError(\"Please fill all fields \");\n      return;\n    }\n\n    const {\n      data,\n      error\n    } = await supabase.from(\"smoothies\") // wyszukuje z supabase tabli o nazwie \"smoothies\"\n    .insert([{\n      title,\n      recepie,\n      rating,\n      created_by,\n      link_url\n    }]).select(); // wprowadza do tabeli tablice z obiektami, każdy obiekt to jedna linijka w tabeli\n\n    function helperFoo(d, e) {\n      if (d !== null) {\n        console.log(d, e);\n        console.log(\"data is not null\");\n        setFormError(null); // resetujemy error\n\n        navigate(\"/\"); // NIE DZIAŁA\n      } else if (e !== null) {\n        console.log(d, e);\n        console.log(\"error is not null\");\n      } else {\n        console.log(d, e);\n        console.log(\"idk what happend\");\n      }\n    }\n\n    helperFoo(data, error);\n    /* CAŁA TA SEKCJA NIE DZIAŁA Z JAKIEGOŚ POWODU, PRZENIESIONE DO FUNKCJI POMOCNICZNEJ \n    if (error !== null) {\n      // jeżelei w obieckie wystąpi error\n      console.log(error);\n      setFormError(\"Please fill all fields 2\");\n    }\n    if (data) {\n      // jeżelei w obieckie wystąpi data, data- zwraca zawartość przesłaną za pomocną await supabase\n      navigate(\"./\");\n      console.log(data);\n      setFormError(null); // resetujemy error\n      navigate(\"./\"); // prekierowanie użytkoiwnika na stronę główną po ścieżce ./\n    }\n    navigate(\"./\");\n    */\n    // insert musi zgadzać się z nazwami kolumn w tabeli oraz z nazwami zmiennych w komponencie\n    //console.log(title, method, rating);\n  }; // funkcja obługująca submit formularza, async ponieważ w środku będziemy używać awaita i promisa\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page create\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Title :: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        value: title\n        /* wartość inputu przechowywana w Hooku useState*/\n        ,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"method\",\n        children: \"Methoda/Recepie:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"method\",\n        value: method,\n        onChange: e => setMethod(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Wybierz poziom stanowiska\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"position_level\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"pos\",\n          id: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"rating\",\n        children: \"Rating::\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"rating\",\n        value: rating,\n        onChange: e => setRating(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"url\",\n        children: \"Link do Formularza zg\\u0142oszeniowego\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"url\",\n        value: url,\n        onChange: e => setUrl(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Create Smoothie Recepie \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), fromError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: fromError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 23\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: checkID,\n      children: \"Check uuid\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Create, \"zqX/qlv3vwLu+yjRN2/Wvrvk2VY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Create;\nexport default Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"names":["useState","useNavigate","supabase","Create","navigate","title","setTitle","method","setMethod","rating","setRating","url","setUrl","position_level","SetPosition_Level","createdBy","setCreatedBy","fromError","setFormError","recepie","created_by","link_url","checkID","data","user","auth","getUser","console","log","id","handleSubmit","e","preventDefault","error","from","insert","select","helperFoo","d","target","value"],"sources":["C:/Frontend22/Projects/inz/DevOffers.io/src/pages/Create.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport supabase from \"../config/supabaseClient\";\n\nconst Create = () => {\n  const navigate = useNavigate(); //  Hook reacta pozwalający na przekierowanie użytkownika na inna strone zgodnie z routerem\n\n  const [title, setTitle] = useState(\"\");\n  const [method, setMethod] = useState(\"\"); // potencjalnie zmienić na recepie\n  const [rating, setRating] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [position_level, SetPosition_Level] = useState(\"Mid\"); // zmienna przechowująca radio buttons state\n  const [createdBy, setCreatedBy] = useState(\"\");\n  const [fromError, setFormError] = useState(null);\n\n  let recepie = method; // zmienone aby zgadzała się nazwa z tablica\n  let created_by = createdBy; // zmienone aby zgadzała się nazwa z tablica, w tabeli jest created_by\n  let link_url = url; // zmienone aby zgadzała się nazwa z tablica\n\n  async function checkID() {\n    const {\n      data: { user },\n    } = await supabase.auth.getUser();\n    console.log(user.id);\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // linijka zapobiegająca reloadowi strony\n\n    const {\n      data: { user },\n    } = await supabase.auth.getUser();\n    console.log(user.id); // testowo\n    created_by = user.id;\n\n    if (!title || !method || !rating) {\n      /* !title oznacza if title === null or reszta */\n      setFormError(\"Please fill all fields \");\n\n      return;\n    }\n\n    const { data, error } = await supabase\n      .from(\"smoothies\") // wyszukuje z supabase tabli o nazwie \"smoothies\"\n      .insert([{ title, recepie, rating, created_by, link_url }])\n      .select(); // wprowadza do tabeli tablice z obiektami, każdy obiekt to jedna linijka w tabeli\n\n    function helperFoo(d, e) {\n      if (d !== null) {\n        console.log(d, e);\n        console.log(\"data is not null\");\n        setFormError(null); // resetujemy error\n        navigate(\"/\"); // NIE DZIAŁA\n      } else if (e !== null) {\n        console.log(d, e);\n        console.log(\"error is not null\");\n      } else {\n        console.log(d, e);\n        console.log(\"idk what happend\");\n      }\n    }\n\n    helperFoo(data, error);\n    /* CAŁA TA SEKCJA NIE DZIAŁA Z JAKIEGOŚ POWODU, PRZENIESIONE DO FUNKCJI POMOCNICZNEJ \n    if (error !== null) {\n      // jeżelei w obieckie wystąpi error\n      console.log(error);\n      setFormError(\"Please fill all fields 2\");\n    }\n    if (data) {\n      // jeżelei w obieckie wystąpi data, data- zwraca zawartość przesłaną za pomocną await supabase\n      navigate(\"./\");\n      console.log(data);\n      setFormError(null); // resetujemy error\n      navigate(\"./\"); // prekierowanie użytkoiwnika na stronę główną po ścieżce ./\n    }\n    navigate(\"./\");\n */\n    // insert musi zgadzać się z nazwami kolumn w tabeli oraz z nazwami zmiennych w komponencie\n\n    //console.log(title, method, rating);\n  };\n  // funkcja obługująca submit formularza, async ponieważ w środku będziemy używać awaita i promisa\n  return (\n    <div className=\"page create\">\n      <form onSubmit={handleSubmit}>\n        {/* wstawić onSubmit={handleSubmit} */}\n        <label htmlFor=\"title\">Title :: </label>{\" \"}\n        {/* to tworzy label który jest wyświetlany na stronie  */}\n        <input\n          type=\"text\"\n          id=\"title\"\n          value={title /* wartość inputu przechowywana w Hooku useState*/}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        {/* Reactowy event handler który reaguje w momencie zmiany value danego elementu, w tym wypadku input*/}\n        <label htmlFor=\"method\">Methoda/Recepie:</label>\n        <textarea\n          id=\"method\"\n          value={method}\n          onChange={(e) => setMethod(e.target.value)}\n        />\n        <div>\n          <h3>Wybierz poziom stanowiska</h3>\n          <label htmlFor=\"position_level\"></label>\n          <input type=\"radio\" name=\"pos\" id=\"\" />\n        </div>\n        <label htmlFor=\"rating\">Rating::</label>\n        <input\n          type=\"text\"\n          id=\"rating\"\n          value={rating}\n          onChange={(e) => setRating(e.target.value)}\n        />\n        <label htmlFor=\"url\">Link do Formularza zgłoszeniowego</label>\n        <input\n          type=\"text\"\n          id=\"url\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n        />\n        <button>Create Smoothie Recepie </button>\n        {fromError && <p className=\"error\">{fromError}</p>}{\" \"}\n        {/*linijka pozwalająca wyrzucić error zamiast formularza, warunek if formError === true*/}\n      </form>\n      <h2>Create</h2>\n      <button onClick={checkID}>Check uuid</button>\n    </div>\n  );\n};\n\nexport default Create;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}